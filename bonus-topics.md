### Handle nulls with coalesce

- Returns first of arguments that is not `Null`. `Null` is returned when all are `Null`.

```sql
select first_name, coalesce(status, 'member')
from users;
```

---

### Shorthand Join ons with Using statement

- Instead of explicitly defining column names, if they are the same, you can just state it once within the clause

###### From

```sql
select * from users u inner join purchases p on u.user_handle = p.user_handle;
```

###### To

```sql
select * from users inner join purchases using(user_handle);
```

---

### Paginate Results with Offset and Limit

- Returns portions of rows generated by a query

```sql
select * from users limit 1 offset 1;
```

- Offset rows are still calculated so large offsets can be inefficient
- Make sure a order by is used to get a predictable result

---

### SQL Pattern Matching & Regular Expressions

- Keywords: `like`, `ilike`, `not like`, `similar to`, `not similar to`, `%`, `_`
- `ilike` is similar to `like`, just case insensitive
- Succeeds only if its pattern matches the _entire string_. Most Regex will match on parts of a string
- An underscore matches any single character
- Percent matches any sequence of zero or more characters
- `Similar to` has more metacharacters support (`|`,`*`, `+`,`?`, `()`)

```sql
insert into users values (uuid_generate_v4(), 'tyler', 'clark', null, null);
```

```sql
select * from users where first_name like 'tyler';
```

```sql
select * from users where first_name like '%t';
```

```sql
select * from users where first_name like '_y___';
```

```sql
select * from users where first_name like '_y%';
```

```sql
select * from users where first_name not like 'tyler';
```

```sql
select * from users where first_name similar to '(t|m)%';
```

```sql
select * from users where first_name similar to 'tyler+';
```

---

### SQL Aggregate Inline filter

- Enables filtering on aggregate functions

```sql
select count(*) as total, count(*) as filtered from users where first_name = 'tyler';
```

vs.

```sql
select count(*) as total, count(*) filter (where first_name = 'tyler') as filtered from users;
```
